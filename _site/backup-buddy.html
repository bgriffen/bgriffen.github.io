<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
	  <meta name="author" content="Brendan Griffen" />
    <meta name="description" content="Musings of an individual exploring the very large and the very small.">
    <link rel="favicon" href="/static/img/favicon.ico">

    
      <title>Backup Buddy</title>
    
	
    <!-- Bootstrap -->
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha256-MfvZlkHCEqatNoGiOXveE8FIwMzZg4W85qfrfIFBfYc= sha512-dTfge/zgoMYpP7QbHy4gWMEGsbsdZeCXz7irItjcC3sPUFtf0kuFbDz/ixG7ArTxmDjLXDmezHubeNikyKGVyQ=="
    crossorigin="anonymous">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

	<!-- Custom styles for this template -->
    <link rel="stylesheet" type="text/css" href="/static/css/main.css" />
	<link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:200,400,200bold,400old" />
	<link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" />
  <link rel="stylesheet" type="text/css" href="/static/css/syntax.css" />

    <!-- Google Analytics -->
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-2011187-3', 'auto');
  ga('send', 'pageview');

</script>
  </head>
  <!-- Main Body-->
  <body>
  <!-- Wrap all page content here -->
  <div id="wrap">
    <!-- Navbar header -->
    <nav class="navbar navbar-default">
  <div class="container">
    <div class="navbar-header">
      <a class="navbar-brand" href="/"><i class="fa fa-home"></i></a>
    </div>
    <div id="navbar">
      <ul class="nav navbar-nav navbar-right">
        <li><a href="/blog.html">BLOG</a></li>
        <li><a href="/bio.html"">BIO</a></li>
        <li><a href="/scaledbiolabs.html">BIOTECH</a></li>
        <li><a href="/astrophysics.html">ASTROPHYSICS</a></li>
        
      </ul>
    </div>
  </div>
  <script type="text/javascript">var switchTo5x=true;</script>
<script type="text/javascript" id="st_insights_js" src="http://w.sharethis.com/button/buttons.js?publisher=4c4961d4-1888-423c-9cce-30a753eaf0e0"></script>
<script type="text/javascript">stLight.options({publisher: "4c4961d4-1888-423c-9cce-30a753eaf0e0", doNotHash: false, doNotCopy: false, hashAddressBar: false});</script>

</nav>

    <div class="container">
	<div class="blog-post">
		<h3>
		  <strong><a href="/backup-buddy.html">Backup Buddy</a></strong>
		</h3>
	</div>
	<div class="blog-title">
		<h4>
		December  5, 2012
			&nbsp;&nbsp;
			
			 <span class="label label-success">programming</span>
			
			 <span class="label label-success">bash</span>
			
		</h4>
	</div>
	<div class="panel panel-default">
		<div class="panel-body">
			<div class="blogpost">
			  <p>It nearly happened to Toy Story 2, it could happen to you.</p>

<iframe width="100%" height="400" src="https://www.youtube.com/embed/yIz9eqwLt9U" frameborder="0" allowfullscreen></iframe>


<p>I’ve come close on many occasions to losing my entire life’s work. At some point (existential reasons aside), I decided to write a small script to backup everything I needed should my laptop explode. I’ve stripped it down and provided it to you.</p>

<p>I’ve written a little bash script to backup a particular folder to a server. It creates a tar file and then synchronises the directories. In the header of the file you will have to change it to suit your needs. You will need to execute it every time you want to backup your work, though this can be easily automated using <a href="https://bradmontgomery.net/blog/automatic-backups-with-cron-tar-and-ssh/#">cron</a>. See <a href="https://github.com/bgriffen/backupbuddy">Github repository</a>.</p>

<pre><code class="bash">#!/bin/bash
# backupbuddy.sh

# Author: Brendan Griffen
# Contact: brendan.f.griffen@gmail.com
# Created: 2012/06/25
# Copyright (c) 2012 Brendan Griffen. All rights reserved.

# Description: Performs a compression of a given folder, and rsyncs
# compressed folder to destination (server). 

# Usage: Bash

#########################################################
#            PLEASE ADJUST THE FOLLOWING!               # 
#########################################################
# YOUR USERNAME
USERNAME="myusername"
# SERVER ADDRESS TO PUT BACKUP ON
SERVERNAME="server.address.com"
# DIRECTORY ON ORIGIN COMPUTER TO BACKUP
ORIGIN_DIR="/folder/origin/"
# DESTINATION DIRECTORY ON SERVER TO PUT BACKUP
DESTIN_DIR="/destination/folder/on/server/"
#########################################################
SCRIPT_DIR=$PWD"/"              # CURRENT WORKING DIRECTORY
DATE=`date +%F`                 # GET DATE
TARFILE=$DATE-backup.tar        # CREATE TAR FILENAME
BZIP=$DATE-backup.tar.bz2       # CREATE BZIP FILENAME
if [ -f $SCRIPT_DIR$TARFILE ]
then
    rm $SCRIPT_DIR$TARFILE      # IF EXISTS, THEN DELETE
    rm $SCRIPT_DIR$BZIP         # IF EXISTS, THEN DELETE
fi
echo '+ BACKUP BUDDY COMMENCING'
echo '+ CRUNCHING FILES -- PLEASE DONT HURT ME'
tar -zcf $TARFILE $ORIGIN_DIR   # CREATE TAR FILE
bzip2 $TARFILE                  # COMPRESS FILE
# synchronise directories (computer &gt;&gt;&gt; server)
echo '+ OK, OK, FINAL HEADS UP - PLEASE CHECK!'
echo '-- FROM:' $SCRIPT_DIR$BZIP
echo '-- TO:  ' $USERNAME"@"$SERVERNAME":"$DESTIN_DIR
rsync -rlptDHSx -W --delete $BZIP $USERNAME"@"$SERVERNAME":"$DESTIN_DIR
# remove .tar file from laptop
echo '+ REMOVING TRASH AT ORIGIN'
if [ -f $SCRIPT_DIR$BZIP ]
then
    rm $SCRIPT_DIR$BZIP         # IF EXISTS, THEN DELETE
fi
echo '+ NOM NOM ALL DONE'
</code></pre>

			  <hr>
			  <center>To be notified of future posts, please <a href="https://feeds.feedburner.com/brendangriffen"><i class="fa fa-fw fa-rss-square"></i>click here</a>.</center>
			  <div class="socialsmall">
	<h4>
        <center>
    
      <a href="mailto:brendan.f.griffen@gmail.com"><i class="fa fa-envelope"></i></a>
    

    
	  <a href="http://github.com/bgriffen"><i class="fa fa-github"></i></a>
    
    
    
	  <a href="http://twitter.com/brendangriffen"><i class="fa fa-twitter"></i></a>
    
    
	  <a href="http://linkedin.com/in/brendangriffen"><i class="fa fa-linkedin"></i></a>
    
    
	  <a href="http://stackoverflow.com/users/1495869/griff"><i class="fa fa-stack-overflow"></i></a>
    
    
    <a href="https://feeds.feedburner.com/brendangriffen"><i class="fa fa-rss-square"></i></a>
    
    </center>
	</h4>
</div>


			   <div class="related-posts">
			   <hr>
				   <h5>Related Posts</h5>
				   
						<div class="row">
							 <div class="col-sm-4 col-md-4 col-lg-4">
								 <h6 style="text-align: right">
								 	June 11, 2016
								 </h6>
							 </div>
							 <div class="col-sm-8 col-md-8 col-lg-8">
								 <h6 style="text-align: left">
								 	<strong><a href="//goodbye-astronomy-for-now.html">Goodbye Astronomy, Part 1: How I got here</a></strong>
								 </h6>
							 </div>
						</div>
					
						<div class="row">
							 <div class="col-sm-4 col-md-4 col-lg-4">
								 <h6 style="text-align: right">
								 	April  4, 2016
								 </h6>
							 </div>
							 <div class="col-sm-8 col-md-8 col-lg-8">
								 <h6 style="text-align: left">
								 	<strong><a href="//analysis-of-hubble-einstein-sagan-fellowship-holders-with-ads.html">Hubble, Einstein and Sagan Fellows With ADS</a></strong>
								 </h6>
							 </div>
						</div>
					
						<div class="row">
							 <div class="col-sm-4 col-md-4 col-lg-4">
								 <h6 style="text-align: right">
								 	March  6, 2016
								 </h6>
							 </div>
							 <div class="col-sm-8 col-md-8 col-lg-8">
								 <h6 style="text-align: left">
								 	<strong><a href="//mapping-astronomy-publications.html">Mapping Astronomy Publications</a></strong>
								 </h6>
							 </div>
						</div>
					
			   </div>
			</div>
		</div>
	</div>
	
<div id="disqus_thread"></div>
<script>

/**
*  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
*  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
/*
var disqus_config = function () {
this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};
*/
(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = '//brendangriffen.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
                                


</div>


  </div>
  <!-- Footer -->

  <footer>
    <div id="footer">
        <div class="container">
            <p class="text-muted">© Brendan Griffen 2016. Powered by <a href="http://jekyllrb.com/">Jekyll.</p>
        </div>
    </div>
</footer>
<div class="footer"></div>

  

    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <!-- Bootstrap core JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"
    integrity="sha256-Sk3nkD6mLTMOF0EOpNtsIry+s1CsaqQC1rVLTAy+0yc= sha512-K1qjQ+NcF2TYO/eI3M6v8EiNYZfA95pQumfvcVrTHtwQVDG+aHRqLi/ETn2uB+1JqwYqVG3LIvdm9lj6imS/pQ=="
    crossorigin="anonymous"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
	<script src="/static/js/docs.min.js"></script>
    <script src="/static/js/main.js"></script>
    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <script src="/static/js/ie10-viewport-bug-workaround.js"></script>

    <script type="text/javascript" async
  src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML">
  </script>


  </body>
</html>
